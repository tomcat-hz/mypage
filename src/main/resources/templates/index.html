<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <base th:href="${#request.getScheme()}+'://'+${#request.getServerName()}+':'+${#request.getServerPort()}+'/'"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>hz首页</title>
    <link rel="stylesheet" href="/static/layui/css/layui.css">
    <link rel="stylesheet" href="/static/css/login.css">
    <script src="/static/layui/layui.js"></script>
</head>
<div class="layui-layout layui-layout-admin">
    <div class="layui-header" id="nav">
        <div class="layui-logo" style="color: white">
            何正的网页
            <input type="text" id="time" class="layui-input" disabled style="background-color:#393d49;border: none;font-family:楷体;color:white;"/>
        </div>
        <!-- 头部区域（可配合layui已有的水平导航） -->
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item layui-this"><a target="body_text" href="/main">主页</a></li>
            <li class="layui-nav-item"><a target="body_text" href="/toUserInfo">个人信息</a></li>
            <li class="layui-nav-item"><a target="body_text" href="/log">日志</a></li>
            <li class="layui-nav-item"><a target="body_text" href="/study">学习园地</a></li>
            <li class="layui-nav-item"><a target="body_text" href="/talk">留言板</a></li>
            <li class="layui-nav-item">
                <a href="javascript:;">其他内容</a>
                <dl class="layui-nav-child">
                    <dd><a target="body_text" href="/photo">相册</a></dd>
                    <dd><a target="body_text" href="/song">音乐</a></dd>
                    <dd><a target="body_text" href="/video">视频</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item">
                <a href="javascript:;">主题颜色</a>
                <dl class="layui-nav-child">
                    <dd><a href="javascript:" class="bgcolor" id="molv">墨绿</a></dd>
                    <dd><a href="javascript:" class="bgcolor" id="cyan">藏青</a></dd>
                    <dd><a href="javascript:" class="bgcolor" id="blue">艳蓝</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item">
                <a target="body_text" href="/test">测试页面</a>
            </li>
            <li class="layui-nav-item" style="display: none">
                <video  controls="" autoplay="" loop="" name="media"> <source src="static/music/qyqx.flac" type="audio/mpeg"></video>
            </li>
        </ul>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">
                    <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
                    <!--获取用户的信息-->
                    <span th:text="${session.user.userName}"></span>
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="">基本资料</a></dd>
                    <dd><a href="">安全设置</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item"><a href="javascript:;" id="exit">退了</a></li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black" id="nav-tree">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree" style="margin-top: 30px" lay-filter="test">
                <li class="layui-nav-item">
                    <a class="" href="javascript:;">数据库</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="https://www.runoob.com/mysql/mysql-tutorial.html">mysql</a></dd>
                        <dd><a target="body_text" href="https://www.runoob.com/mongodb/mongodb-tutorial.html">mongodb</a></dd>
                        <dd><a target="body_text" href="https://www.runoob.com/redis/redis-tutorial.html">redis</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a class="" href="javascript:;">框架</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/spring">spring</a></dd>
                        <dd><a target="body_text" href="/springmvc">springmvc</a></dd>
                        <dd><a target="body_text" href="/springdata">springdata</a></dd>
                        <dd><a target="body_text" href="/mybatis">mybatis</a></dd>
                        <dd><a target="body_text" href="/springboot">springboot</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">解决bug</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/javase">java基础</a></dd>
                        <dd><a target="body_text" href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">云市场</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/message">阿里云通信</a></dd>
                        <dd><a target="body_text" href="/service">阿里云服务</a></dd>
                        <dd><a target="body_text" href="/memory">千牛云存储</a></dd>
                        <dd><a target="body_text" href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">应用资源</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/chinese">中文手册</a></dd>
                        <dd><a target="body_text" href="/english">英文手册</a></dd>
                        <dd><a target="body_text" href="/app">软件资源</a></dd>
                        <dd><a target="body_text" href="/example">标准实例</a></dd>
                        <dd><a target="body_text" href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">网络通讯</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/websocket">websocket</a></dd>
                        <dd><a target="body_text" href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">数据分析</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/echars">echars</a></dd>
                        <dd><a target="body_text" href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">搜索引擎</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/solr">solr</a></dd>
                        <dd><a target="body_text" href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">个人项目</a>
                    <dl class="layui-nav-child">
                        <dd><a target="body_text" href="/echars">酒店管理系统</a></dd>
                        <dd><a target="body_text" href="/echars">商城管理系统</a></dd>
                        <dd><a target="body_text" href="">超链接</a></dd>
                    </dl>
                </li>
            </ul>
        </div>
    </div>
    <div class="layui-body">
        <iframe name="body_text" style="border: medium none;width: 100%;height:99.5%" src="/main"></iframe>
    </div>
    <div class="layui-footer">
        <!-- 底部固定区域 -->
        © layui.com - 底部固定区域
    </div>
</div>


<script src="/static/js/utils/time.js"></script>
<script>
    //JavaScript代码区域
    layui.use(['element','jquery','layer'], function(){
        var element = layui.element,
            layer=layui.layer,
            $ = layui.jquery;
        $('.bgcolor').click(function () {
            $('#nav').attr('class', "layui-header layui-bg-" + $(this).attr('id'));
            console.log('切换背景色');
        });
        $('#exit').click(function () {
            layer.confirm('是否确认退出?', function (index) {
                //console.log('确认退出');
                exitUser();
                layer.close(index);
            });
        });

        function exitUser() {
            $.ajax({
                type: 'post',
                url: 'user/exit',
                success: function (data) {
                    if (data == 'success') {
                        location.href = '/';
                    } else {
                        layer.msg('退出失败',{icon:2,time:1000,shade:0.5, anim: 1})
                    }
                },
                error:function () {
                    layer.msg('服务器异常',{icon:3,time:1000,shade:0.5, anim: 1});
                }
            })
        }


    });
</script>
</body>
</html>